<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SUPER OFERTAS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --laranja-principal: #FF6B00;
            --laranja-escuro: #E55A00;
            --laranja-claro: #FF8C42;
            --laranja-suave: #FFF5ED;
            --cinza-escuro: #333333;
            --cinza-medio: #666666;
            --cinza-claro: #F8F8F8;
            --branco: #FFFFFF;
            --verde: #00A650;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background-color: var(--branco);
            color: var(--cinza-escuro);
            line-height: 1.5;
            overflow-x: hidden;
        }
        
        /* HEADER FIXO COMO NA IMAGEM */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--laranja-principal) 0%, var(--laranja-escuro) 100%);
            padding: 15px 20px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.2);
        }
        
        .logo-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--branco);
        }
        
        .logo-icon {
            background: var(--branco);
            color: var(--laranja-principal);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 900;
        }
        
        .logo-text {
            font-size: 1.8rem;
            font-weight: 900;
            letter-spacing: -0.5px;
        }
        
        .search-container {
            position: relative;
            width: 100%;
        }
        
        .search-container i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--cinza-medio);
            z-index: 2;
        }
        
        .search-container input {
            width: 100%;
            padding: 16px 20px 16px 45px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            background-color: var(--branco);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .search-container input:focus {
            outline: none;
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.2);
        }
        
        /* CONTE√öDO PRINCIPAL */
        .main-content {
            margin-top: 140px;
            padding: 0 15px 80px;
        }
        
        /* SE√á√ÉO DE CATEGORIAS */
        .section-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin: 20px 0 15px;
            color: var(--cinza-escuro);
        }
        
        .categories-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
            -webkit-overflow-scrolling: touch;
        }
        
        .categories-container::-webkit-scrollbar {
            display: none;
        }
        
        .category-chip {
            background-color: var(--laranja-suave);
            border: 1px solid rgba(255, 107, 0, 0.2);
            border-radius: 20px;
            padding: 10px 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--laranja-principal);
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .category-chip.active {
            background-color: var(--laranja-principal);
            color: var(--branco);
        }
        
        /* CARDS DE PRODUTO - ESTILO APP */
        .product-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .product-card {
            background: var(--branco);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #f0f0f0;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .product-image-container {
            position: relative;
            height: 220px;
            width: 100%;
            overflow: hidden;
            background-color: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 20px;
            transition: transform 0.5s ease;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: var(--verde);
            color: var(--branco);
            font-size: 0.7rem;
            font-weight: 800;
            padding: 4px 10px;
            border-radius: 12px;
            letter-spacing: 0.5px;
        }
        
        .product-info {
            padding: 18px;
        }
        
        .product-title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--cinza-escuro);
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            font-size: 0.85rem;
        }
        
        .product-rating {
            color: #FFB100;
            letter-spacing: 2px;
        }
        
        .product-sales {
            color: var(--cinza-medio);
            font-weight: 600;
        }
        
        /* BOT√ÉO MISTERIOSO */
        .mystery-button {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--laranja-principal) 0%, var(--laranja-escuro) 100%);
            color: var(--branco);
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 800;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .mystery-button::after {
            content: "‚Üí";
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.3rem;
            transition: transform 0.3s ease;
        }
        
        .mystery-button:hover {
            background: linear-gradient(135deg, var(--laranja-escuro) 0%, #D14900 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 18px rgba(255, 107, 0, 0.4);
        }
        
        .mystery-button:hover::after {
            transform: translateY(-50%) translateX(5px);
        }
        
        /* LOADING */
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 107, 0, 0.2);
            border-top: 4px solid var(--laranja-principal);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ESTADO VAZIO */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }
        
        .empty-state i {
            font-size: 4rem;
            color: #e0e0e0;
            margin-bottom: 20px;
        }
        
        .empty-state h3 {
            font-size: 1.4rem;
            color: var(--cinza-medio);
            margin-bottom: 10px;
        }
        
        /* FOOTER */
        .app-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--branco);
            border-top: 1px solid #f0f0f0;
            padding: 12px 0;
            display: flex;
            justify-content: space-around;
            z-index: 999;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .footer-tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--cinza-medio);
            text-decoration: none;
            font-size: 0.8rem;
            font-weight: 600;
            transition: color 0.2s ease;
        }
        
        .footer-tab i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        .footer-tab.active {
            color: var(--laranja-principal);
        }
        
        /* AJUSTES PARA TELAS MAIORES */
        @media (min-width: 768px) {
            .main-content {
                max-width: 600px;
                margin: 140px auto 0;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER FIXO -->
    <header class="app-header">
        <div class="logo-header">
            <div class="logo">
                <div class="logo-icon">S</div>
                <div class="logo-text">SUPER OFERTAS</div>
            </div>
        </div>
        <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Pesquisar produtos e lojas">
        </div>
    </header>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="main-content">
        <!-- SE√á√ÉO RECOMENDA√á√ïES -->
        <h2 class="section-title">Recomenda√ß√£o</h2>
        <div class="categories-container" id="categoriesContainer">
            <!-- Categorias ser√£o carregadas dinamicamente -->
        </div>

        <!-- PRODUTOS -->
        <div id="productsContainer" class="product-grid">
            <!-- Produtos ser√£o carregados aqui -->
        </div>

        <!-- LOADING -->
        <div id="loading" class="loading-container">
            <div class="loading-spinner"></div>
            <p>Buscando ofertas incr√≠veis...</p>
        </div>

        <!-- ESTADO VAZIO -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-search"></i>
            <h3>Nenhum produto encontrado</h3>
            <p>Tente ajustar sua busca ou selecione outra categoria</p>
        </div>
    </main>

    <!-- FOOTER / MENU INFERIOR -->
    <nav class="app-footer">
        <a href="#" class="footer-tab active">
            <i class="fas fa-home"></i>
            <span>Oferta</span>
        </a>
        <a href="#" class="footer-tab">
            <i class="fas fa-chart-line"></i>
            <span>Convers√£o</span>
        </a>
        <a href="#" class="footer-tab">
            <i class="fas fa-money-bill-wave"></i>
            <span>Renda</span>
        </a>
        <a href="#" class="footer-tab">
            <i class="fas fa-user"></i>
            <span>Conta</span>
        </a>
    </nav>

    <script>
        // ========== CONFIGURA√á√ÉO ==========
        const SHEET_URL = 'https://docs.google.com/spreadsheets/d/16TTELO5LDp1YZ4cJQk95_dHIHyHw0ZJlJApDXvTGLUI/gviz/tq?tqx=out:csv';
        
        // Textos misteriosos para os bot√µes
        const TEXTOS_MISTERIOSOS = [
            "üöÄ DESCOBRIR SEGREDO",
            "‚ú® O QUE H√Å AQUI?",
            "ü§´ EU PRECISO VER",
            "üéÅ ABRIR SURPRESA",
            "üîç INVESTIGAR AGORA",
            "üåü DESVENDAR OFERTA",
            "üí• VER ESTA J√Å!",
            "üõí EU QUERO ISSO!",
            "üî• SABER MAIS",
            "üòÆ MOSTRE-ME"
        ];
        
        // Dados de vendas (simulados para demonstra√ß√£o)
        const VENDAS_SIMULADAS = ["2mil+ vendas", "1mil+ vendas", "500+ vendas", "100+ vendas", "50+ vendas"];
        const AVALIACOES = ["‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ", "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ", "‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ"];
        
        // ========== VARI√ÅVEIS GLOBAIS ==========
        let todosProdutos = [];
        let produtosFiltrados = [];
        let categoriasUnicas = new Set();
        let categoriaAtiva = "";
        
        // ========== ELEMENTOS DOM ==========
        const productsContainer = document.getElementById('productsContainer');
        const loadingElement = document.getElementById('loading');
        const searchInput = document.getElementById('searchInput');
        const categoriesContainer = document.getElementById('categoriesContainer');
        const emptyState = document.getElementById('emptyState');
        
        // ========== FUN√á√ïES PRINCIPAIS ==========
        
        // Carrega produtos da planilha
        async function carregarProdutos() {
            try {
                const proxyUrl = 'https://corsproxy.io/?';
                const response = await fetch(proxyUrl + encodeURIComponent(SHEET_URL));
                
                if (!response.ok) throw new Error('Erro ao carregar dados');
                
                const csvText = await response.text();
                processarCSV(csvText);
                
            } catch (error) {
                console.error('Erro ao carregar planilha:', error);
                usarDadosExemplo();
            }
        }
        
        // Processa o CSV da planilha
        function processarCSV(csvText) {
            const linhas = csvText.split('\n');
            todosProdutos = [];
            categoriasUnicas.clear();
            
            if (linhas.length === 0) {
                usarDadosExemplo();
                return;
            }
            
            // Detecta cabe√ßalhos automaticamente
            const cabecalhos = linhas[0].split(',').map(h => h.trim().replace(/"/g, '').toLowerCase());
            
            const indiceNome = cabecalhos.findIndex(h => h.includes('nome') || h.includes('produto') || h.includes('title'));
            const indiceImagem = cabecalhos.findIndex(h => h.includes('imagem') || h.includes('foto') || h.includes('image') || h.includes('url'));
            const indiceCategoria = cabecalhos.findIndex(h => h.includes('categoria') || h.includes('tipo') || h.includes('category'));
            const indiceLink = cabecalhos.findIndex(h => h.includes('link') || h.includes('url') || h.includes('shopee'));
            
            // Processa cada linha
            for (let i = 1; i < linhas.length; i++) {
                if (!linhas[i].trim()) continue;
                
                const colunas = linhas[i].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(col => col.trim().replace(/^"|"$/g, ''));
                
                if (colunas.length >= 4) {
                    const produto = {
                        nome: colunas[indiceNome] || 'Produto Sem Nome',
                        imagem: colunas[indiceImagem] || 'https://via.placeholder.com/300x300/FF6B00/FFFFFF?text=Oferta+Secreta',
                        categoria: colunas[indiceCategoria] || 'Geral',
                        link: colunas[indiceLink] || '#'
                    };
                    
                    // Garante que o link comece com http
                    if (produto.link !== '#' && !produto.link.startsWith('http')) {
                        produto.link = 'https://' + produto.link;
                    }
                    
                    todosProdutos.push(produto);
                    categoriasUnicas.add(produto.categoria);
                }
            }
            
            if (todosProdutos.length === 0) {
                usarDadosExemplo();
            } else {
                inicializarApp();
            }
        }
        
        // Usa dados de exemplo se a planilha n√£o carregar
        function usarDadosExemplo() {
            todosProdutos = [
                {
                    nome: "Conjunto Academia Top Fitness e Legging Cintura Alta Zero",
                    imagem: "https://images.unsplash.com/photo-1594736797933-d0f9593a283d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "ROUPA FEMININA",
                    link: "https://s.shopee.com.br/13r"
                },
                {
                    nome: "Bicicleta Ergom√©trica Bluetooth 2.0 Jogos AR",
                    imagem: "https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "Esportes e Lazer",
                    link: "https://s.shopee.com.br/gJ"
                },
                {
                    nome: "Conjunto Academia Treino Top e Cal√ßa Legging",
                    imagem: "https://images.unsplash.com/photo-1591369822091-8b603d6f6c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "ROUPA FEMININA",
                    link: "https://s.shopee.com.br/3Bt"
                },
                {
                    nome: "Fone Bluetooth com Cancelamento de Ru√≠do",
                    imagem: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "Eletr√¥nicos",
                    link: "https://shope.ee/7fKQ2X6pJd"
                },
                {
                    nome: "Smartwatch Fitness com Monitor Card√≠aco",
                    imagem: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "Eletr√¥nicos",
                    link: "https://shope.ee/5KQ1W2V3U4"
                },
                {
                    nome: "Kit Maquiagem Profissional com Pinc√©is",
                    imagem: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    categoria: "Beleza",
                    link: "https://shope.ee/6F7G8H9I0J"
                }
            ];
            
            todosProdutos.forEach(p => categoriasUnicas.add(p.categoria));
            inicializarApp();
        }
        
        // Inicializa o app ap√≥s carregar dados
        function inicializarApp() {
            loadingElement.style.display = 'none';
            
            // Cria as categorias
            criarCategorias();
            
            // Inicializa produtos filtrados
            produtosFiltrados = [...todosProdutos];
            
            // Renderiza os produtos
            renderizarProdutos();
            
            // Configura eventos
            configurarEventos();
        }
        
        // Cria os chips de categoria
        function criarCategorias() {
            categoriesContainer.innerHTML = '';
            
            // Bot√£o "Todas"
            const btnTodas = document.createElement('div');
            btnTodas.className = 'category-chip active';
            btnTodas.textContent = 'Todas';
            btnTodas.onclick = () => filtrarPorCategoria('');
            categoriesContainer.appendChild(btnTodas);
            
            // Cria chips para cada categoria
            Array.from(categoriasUnicas).sort().forEach(categoria => {
                const chip = document.createElement('div');
                chip.className = 'category-chip';
                chip.textContent = categoria;
                chip.onclick = () => filtrarPorCategoria(categoria);
                categoriesContainer.appendChild(chip);
            });
        }
        
        // Filtra produtos por categoria
        function filtrarPorCategoria(categoria) {
            categoriaAtiva = categoria;
            
            // Atualiza estado dos chips
            document.querySelectorAll('.category-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            // Aplica filtro
            aplicarFiltros();
        }
        
        // Aplica todos os filtros (busca + categoria)
        function aplicarFiltros() {
            const termoBusca = searchInput.value.toLowerCase().trim();
            
            produtosFiltrados = todosProdutos.filter(produto => {
                const correspondeBusca = termoBusca === '' || 
                    produto.nome.toLowerCase().includes(termoBusca) ||
                    produto.categoria.toLowerCase().includes(termoBusca);
                
                const correspondeCategoria = categoriaAtiva === '' || 
                    produto.categoria === categoriaAtiva;
                
                return correspondeBusca && correspondeCategoria;
            });
            
            renderizarProdutos();
        }
        
        // Renderiza os produtos na tela
        function renderizarProdutos() {
            productsContainer.innerHTML = '';
            
            if (produtosFiltrados.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            // Renderiza cada produto
            produtosFiltrados.forEach((produto, index) => {
                const card = document.createElement('div');
                card.className = 'product-card';
                
                // Texto aleat√≥rio para o bot√£o
                const textoBotao = TEXTOS_MISTERIOSOS[Math.floor(Math.random() * TEXTOS_MISTERIOSOS.length)];
                
                // Dados simulados para avalia√ß√µes e vendas
                const avaliacao = AVALIACOES[Math.floor(Math.random() * AVALIACOES.length)];
                const vendas = VENDAS_SIMULADAS[Math.floor(Math.random() * VENDAS_SIMULADAS.length)];
                
                card.innerHTML = `
                    <div class="product-image-container">
                        <img src="${produto.imagem}" alt="${produto.nome}" class="product-image" 
                             onerror="this.src='https://via.placeholder.com/300x300/FF6B00/FFFFFF?text=Oferta+Secreta'">
                        <div class="product-badge">DESTAQUE</div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${produto.nome}</h3>
                        <div class="product-meta">
                            <div class="product-rating">${avaliacao}</div>
                            <div class="product-sales">${vendas}</div>
                        </div>
                        <a href="${produto.link}" target="_blank" class="mystery-button">${textoBotao}</a>
                    </div>
                `;
                
                productsContainer.appendChild(card);
            });
        }
        
        // Configura eventos
        function configurarEventos() {
            // Busca com debounce
            let timeoutBusca;
            searchInput.addEventListener('input', () => {
                clearTimeout(timeoutBusca);
                timeoutBusca = setTimeout(aplicarFiltros, 300);
            });
            
            // Tecla Enter na busca
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') aplicarFiltros();
            });
            
            // Clique nos bot√µes misteriosos (para tracking)
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('mystery-button')) {
                    // Aqui voc√™ pode adicionar c√≥digo de tracking
                    console.log('Bot√£o misterioso clicado:', e.target.href);
                }
            });
            
            // Atualizar dados periodicamente
            setInterval(carregarProdutos, 5 * 60 * 1000); // 5 minutos
        }
        
        // ========== INICIALIZA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', carregarProdutos);
    </script>
</body>
</html>



